var e,n=require("react"),t=(e=require("resize-observer-polyfill"))&&"object"==typeof e&&"default"in e?e.default:e,i="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect;module.exports=function(e){void 0===e&&(e={});var o=e.maxFontSize;void 0===o&&(o=100);var r=e.minFontSize;void 0===r&&(r=20);var f=e.resolution;void 0===f&&(f=5);var u=n.useCallback(function(){return{fontSize:o,fontSizePrev:r,fontSizeMax:o,fontSizeMin:r}},[o,r]),a=n.useRef(null),c=n.useState(u),S=c[0],l=c[1],s=S.fontSize,z=S.fontSizeMax,d=S.fontSizeMin,v=S.fontSizePrev,m=null,w=n.useState(function(){return new t(function(){m=window.requestAnimationFrame(function(){l(u())})})})[0];return n.useEffect(function(){return a.current&&w.observe(a.current),function(){m&&window.cancelAnimationFrame(m),w.disconnect()}},[m,w]),i(function(){var e=Math.abs(s-v)<=f,n=!!a.current&&(a.current.scrollHeight>a.current.offsetHeight||a.current.scrollWidth>a.current.offsetWidth),t=s>v;if(e)n&&l({fontSize:v<s?v:s-(v-s),fontSizeMax:z,fontSizeMin:d,fontSizePrev:v});else{var i,o=z,r=d;n?(i=t?v-s:d-s,o=Math.min(z,s)):(i=t?z-s:v-s,r=Math.max(d,s)),l({fontSize:s+i/2,fontSizeMax:o,fontSizeMin:r,fontSizePrev:s})}},[s,z,d,v,a,f]),{fontSize:s+"%",ref:a}};
//# sourceMappingURL=index.js.map
