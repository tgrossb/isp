import{useCallback as n,useEffect as e,useLayoutEffect as t,useRef as i,useState as o}from"react";import r from"resize-observer-polyfill";var f="undefined"!=typeof window&&window.document&&window.document.createElement?t:e;export default function(t){void 0===t&&(t={});var u=t.maxFontSize;void 0===u&&(u=100);var a=t.minFontSize;void 0===a&&(a=20);var c=t.resolution;void 0===c&&(c=5);var z=n(function(){return{fontSize:u,fontSizePrev:a,fontSizeMax:u,fontSizeMin:a}},[u,a]),S=i(null),d=o(z),v=d[0],l=d[1],m=v.fontSize,s=v.fontSizeMax,w=v.fontSizeMin,M=v.fontSizePrev,h=null,x=o(function(){return new r(function(){h=window.requestAnimationFrame(function(){l(z())})})})[0];return e(function(){return S.current&&x.observe(S.current),function(){h&&window.cancelAnimationFrame(h),x.disconnect()}},[h,x]),f(function(){var n=Math.abs(m-M)<=c,e=!!S.current&&(S.current.scrollHeight>S.current.offsetHeight||S.current.scrollWidth>S.current.offsetWidth),t=m>M;if(n)e&&l({fontSize:M<m?M:m-(M-m),fontSizeMax:s,fontSizeMin:w,fontSizePrev:M});else{var i,o=s,r=w;e?(i=t?M-m:w-m,o=Math.min(s,m)):(i=t?s-m:M-m,r=Math.max(w,m)),l({fontSize:m+i/2,fontSizeMax:o,fontSizeMin:r,fontSizePrev:m})}},[m,s,w,M,S,c]),{fontSize:m+"%",ref:S}}
//# sourceMappingURL=index.mjs.map
