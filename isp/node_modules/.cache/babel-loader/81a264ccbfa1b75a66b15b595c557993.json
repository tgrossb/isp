{"ast":null,"code":"\"use strict\";\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _warning = _interopRequireDefault(require(\"warning\"));\n\nvar _shortid = require(\"shortid\");\n\nvar _shallowEqual = _interopRequireDefault(require(\"./shallow-equal\"));\n\nvar _getFillsize = _interopRequireDefault(require(\"./get-fillsize\"));\n\nvar _domUtils = require(\"./dom-utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!_instanceof(instance, Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar ScaleText = /*#__PURE__*/function (_Component) {\n  _inherits(ScaleText, _Component);\n\n  function ScaleText(props) {\n    var _this;\n\n    _classCallCheck(this, ScaleText);\n\n    _this = _possibleConstructorReturn(this, (ScaleText.__proto__ || Object.getPrototypeOf(ScaleText)).call(this, props));\n    _this.state = {\n      size: null\n    };\n    _this._resizing = false;\n    _this._invalidChild = false;\n    _this._mounted = false;\n\n    _this._handleResize = function () {\n      if (!_this._resizing) {\n        requestAnimationFrame(_this.handleResize.bind(_assertThisInitialized(_this)));\n      }\n\n      _this._resizing = true;\n    };\n\n    return _this;\n  }\n\n  _createClass(ScaleText, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var children = this.props.children;\n      this._mounted = true;\n      this._invalidChild = _react.default.Children.count(children) > 1;\n      (0, _warning.default)(!this._invalidChild, \"'ScaleText' expects a single node as a child, but we found\\n      \".concat(_react.default.Children.count(children), \" children instead.\\n      No scaling will be done on this subtree\"));\n\n      if (this.shouldResize()) {\n        this.resize();\n        window.addEventListener('resize', this._handleResize);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // compare children's props for change\n      if (!(0, _shallowEqual.default)(prevProps.children.props, this.props.children.props) || prevProps.children !== this.props.children || prevProps !== this.props) {\n        this.resize();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!this.shouldResize()) {\n        window.removeEventListener('resize', this._handleResize);\n      }\n    }\n  }, {\n    key: \"shouldResize\",\n    value: function shouldResize() {\n      return !this._invalidChild;\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      this._resizing = false;\n      this.resize();\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this2 = this;\n\n      var _props = this.props,\n          minFontSize = _props.minFontSize,\n          maxFontSize = _props.maxFontSize,\n          widthOnly = _props.widthOnly;\n      if (!this._mounted || !this._wrapper) return;\n\n      if (this.ruler) {\n        this.clearRuler();\n      }\n\n      this.createRuler();\n      var fontSize = (0, _getFillsize.default)(this.ruler, minFontSize || Number.NEGATIVE_INFINITY, maxFontSize || Number.POSITIVE_INFINITY, widthOnly);\n      this.setState({\n        size: parseFloat(fontSize, 10),\n        complete: true\n      }, function () {\n        _this2.clearRuler();\n      });\n    }\n  }, {\n    key: \"createRuler\",\n    value: function createRuler() {\n      // Create copy of wrapper for sizing\n      this.ruler = this._wrapper.cloneNode(true);\n      this.ruler.id = (0, _shortid.generate)();\n      (0, _domUtils.css)(this.ruler, {\n        position: 'absolute',\n        top: '0px',\n        left: 'calc(100vw * 2)',\n        width: (0, _domUtils.getStyle)(this._wrapper, 'width'),\n        height: (0, _domUtils.getStyle)(this._wrapper, 'height')\n      });\n      document.body.appendChild(this.ruler);\n    }\n  }, {\n    key: \"clearRuler\",\n    value: function clearRuler() {\n      if (this.ruler) {\n        document.body.removeChild(this.ruler);\n      }\n\n      this.ruler = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var fontSize = this.state.size;\n      var _props2 = this.props,\n          children = _props2.children,\n          widthOnly = _props2.widthOnly;\n      var overflowStyle = widthOnly ? {\n        overflowY: 'visible',\n        overflowX: 'hidden',\n        height: 'auto'\n      } : {\n        overflow: 'hidden'\n      };\n      var child = _react.default.isValidElement(children) ? _react.default.Children.only(children) : _react.default.createElement(\"span\", null, children);\n\n      var style = _extends({\n        fontSize: fontSize ? \"\".concat(fontSize.toFixed(2), \"px\") : 'inherit',\n        width: '100%',\n        height: '100%'\n      }, overflowStyle);\n\n      var childProps = {\n        fontSize: fontSize ? parseFloat(fontSize.toFixed(2)) : 'inherit'\n      };\n      return _react.default.createElement(\"div\", {\n        className: \"scaletext-wrapper\",\n        ref: function ref(c) {\n          _this3._wrapper = c;\n        },\n        style: style\n      }, _react.default.cloneElement(child, childProps));\n    }\n  }]);\n\n  return ScaleText;\n}(_react.Component);\n\nScaleText.propTypes = {\n  children: _propTypes.default.node.isRequired,\n  minFontSize: _propTypes.default.number.isRequired,\n  maxFontSize: _propTypes.default.number.isRequired,\n  widthOnly: _propTypes.default.bool\n};\nScaleText.defaultProps = {\n  minFontSize: Number.NEGATIVE_INFINITY,\n  maxFontSize: Number.POSITIVE_INFINITY,\n  widthOnly: false\n}; // export default ScaleText;\n\nmodule.exports = ScaleText;","map":{"version":3,"sources":["/home/theo/computerScience/js/isp/isp/node_modules/react-scale-text/lib/index.js"],"names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_warning","_shortid","_shallowEqual","_getFillsize","_domUtils","obj","__esModule","default","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_instanceof","left","right","Symbol","hasInstance","_typeof","iterator","constructor","_extends","assign","target","i","arguments","length","source","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","value","setPrototypeOf","__proto__","_assertThisInitialized","ScaleText","_Component","_this","getPrototypeOf","state","size","_resizing","_invalidChild","_mounted","_handleResize","requestAnimationFrame","handleResize","bind","componentDidMount","children","Children","count","concat","shouldResize","resize","window","addEventListener","componentDidUpdate","prevProps","componentWillUnmount","removeEventListener","_this2","_props","minFontSize","maxFontSize","widthOnly","_wrapper","ruler","clearRuler","createRuler","fontSize","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","setState","parseFloat","complete","cloneNode","id","generate","css","position","top","width","getStyle","height","document","body","appendChild","removeChild","render","_this3","_props2","overflowStyle","overflowY","overflowX","overflow","child","isValidElement","only","createElement","style","toFixed","childProps","className","ref","c","cloneElement","Component","propTypes","node","isRequired","number","bool","defaultProps","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _warning = _interopRequireDefault(require(\"warning\"));\n\nvar _shortid = require(\"shortid\");\n\nvar _shallowEqual = _interopRequireDefault(require(\"./shallow-equal\"));\n\nvar _getFillsize = _interopRequireDefault(require(\"./get-fillsize\"));\n\nvar _domUtils = require(\"./dom-utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar ScaleText =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ScaleText, _Component);\n\n  function ScaleText(props) {\n    var _this;\n\n    _classCallCheck(this, ScaleText);\n\n    _this = _possibleConstructorReturn(this, (ScaleText.__proto__ || Object.getPrototypeOf(ScaleText)).call(this, props));\n    _this.state = {\n      size: null\n    };\n    _this._resizing = false;\n    _this._invalidChild = false;\n    _this._mounted = false;\n\n    _this._handleResize = function () {\n      if (!_this._resizing) {\n        requestAnimationFrame(_this.handleResize.bind(_assertThisInitialized(_this)));\n      }\n\n      _this._resizing = true;\n    };\n\n    return _this;\n  }\n\n  _createClass(ScaleText, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var children = this.props.children;\n      this._mounted = true;\n      this._invalidChild = _react.default.Children.count(children) > 1;\n      (0, _warning.default)(!this._invalidChild, \"'ScaleText' expects a single node as a child, but we found\\n      \".concat(_react.default.Children.count(children), \" children instead.\\n      No scaling will be done on this subtree\"));\n\n      if (this.shouldResize()) {\n        this.resize();\n        window.addEventListener('resize', this._handleResize);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // compare children's props for change\n      if (!(0, _shallowEqual.default)(prevProps.children.props, this.props.children.props) || prevProps.children !== this.props.children || prevProps !== this.props) {\n        this.resize();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!this.shouldResize()) {\n        window.removeEventListener('resize', this._handleResize);\n      }\n    }\n  }, {\n    key: \"shouldResize\",\n    value: function shouldResize() {\n      return !this._invalidChild;\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      this._resizing = false;\n      this.resize();\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this2 = this;\n\n      var _props = this.props,\n          minFontSize = _props.minFontSize,\n          maxFontSize = _props.maxFontSize,\n          widthOnly = _props.widthOnly;\n      if (!this._mounted || !this._wrapper) return;\n\n      if (this.ruler) {\n        this.clearRuler();\n      }\n\n      this.createRuler();\n      var fontSize = (0, _getFillsize.default)(this.ruler, minFontSize || Number.NEGATIVE_INFINITY, maxFontSize || Number.POSITIVE_INFINITY, widthOnly);\n      this.setState({\n        size: parseFloat(fontSize, 10),\n        complete: true\n      }, function () {\n        _this2.clearRuler();\n      });\n    }\n  }, {\n    key: \"createRuler\",\n    value: function createRuler() {\n      // Create copy of wrapper for sizing\n      this.ruler = this._wrapper.cloneNode(true);\n      this.ruler.id = (0, _shortid.generate)();\n      (0, _domUtils.css)(this.ruler, {\n        position: 'absolute',\n        top: '0px',\n        left: 'calc(100vw * 2)',\n        width: (0, _domUtils.getStyle)(this._wrapper, 'width'),\n        height: (0, _domUtils.getStyle)(this._wrapper, 'height')\n      });\n      document.body.appendChild(this.ruler);\n    }\n  }, {\n    key: \"clearRuler\",\n    value: function clearRuler() {\n      if (this.ruler) {\n        document.body.removeChild(this.ruler);\n      }\n\n      this.ruler = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var fontSize = this.state.size;\n      var _props2 = this.props,\n          children = _props2.children,\n          widthOnly = _props2.widthOnly;\n      var overflowStyle = widthOnly ? {\n        overflowY: 'visible',\n        overflowX: 'hidden',\n        height: 'auto'\n      } : {\n        overflow: 'hidden'\n      };\n      var child = _react.default.isValidElement(children) ? _react.default.Children.only(children) : _react.default.createElement(\"span\", null, children);\n\n      var style = _extends({\n        fontSize: fontSize ? \"\".concat(fontSize.toFixed(2), \"px\") : 'inherit',\n        width: '100%',\n        height: '100%'\n      }, overflowStyle);\n\n      var childProps = {\n        fontSize: fontSize ? parseFloat(fontSize.toFixed(2)) : 'inherit'\n      };\n      return _react.default.createElement(\"div\", {\n        className: \"scaletext-wrapper\",\n        ref: function ref(c) {\n          _this3._wrapper = c;\n        },\n        style: style\n      }, _react.default.cloneElement(child, childProps));\n    }\n  }]);\n\n  return ScaleText;\n}(_react.Component);\n\nScaleText.propTypes = {\n  children: _propTypes.default.node.isRequired,\n  minFontSize: _propTypes.default.number.isRequired,\n  maxFontSize: _propTypes.default.number.isRequired,\n  widthOnly: _propTypes.default.bool\n};\nScaleText.defaultProps = {\n  minFontSize: Number.NEGATIVE_INFINITY,\n  maxFontSize: Number.POSITIVE_INFINITY,\n  widthOnly: false\n}; // export default ScaleText;\n\nmodule.exports = ScaleText;"]},"metadata":{},"sourceType":"script"}