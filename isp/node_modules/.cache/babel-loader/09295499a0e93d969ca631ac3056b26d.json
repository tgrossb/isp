{"ast":null,"code":"var _jsxFileName = \"/home/theo/computerScience/js/shanghai/shanghai/src/App.js\";\nimport React from 'react';\nimport InputMask from \"react-input-mask\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, TextField, Divider, Card, CardContent, Box, Grid, CssBaseline, InputAdornment, ClearIcon } from '@material-ui/core';\nimport openSocket from 'socket.io-client';\nconst socket = openSocket('http://localhost:5000');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFieldUpdate = e => {\n      const [name, value] = e.getTarget();\n      this.setState((state, props) => ({\n        [name]: value\n      }));\n    };\n\n    console.log(\"App created\");\n    this.gameCodes = [];\n    socket.on(\"gamesChanged\", gameCodes => this.gameCodes = gameCodes);\n    this.state = {\n      name: '',\n      gameCode: '',\n      nameError: false,\n      gameCodeError: false\n    };\n  }\n\n  handleCreateGame() {\n    console.log(\"Create game\");\n\n    if (this.state.name.trim() === '') {\n      this.setState((state, props) => ({\n        nameError: true\n      }));\n      return;\n    }\n\n    console.log(\"Creating game\");\n  }\n\n  handleJoinGame() {\n    const nameValid = this.state.name.trim() !== '';\n    const codeValid = this.state.gameCode.length === 6;\n    const gameExists = codeValid && this.gameCodes.contains(this.state.gameCode);\n    console.log(nameValid + \"  \" + codeValid + \"  \" + gameExists);\n\n    if (nameValid && gameExists) {\n      console.log(\"Joining game\");\n      return;\n    }\n\n    this.setState((state, props) => ({\n      nameError: !nameValid,\n      gameCodeError: !gameExists\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      style: {\n        minHeight: '100vh'\n      },\n      direction: \"column\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 105\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: {\n        width: \"fit-content\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      width: \"fit-content\",\n      p: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      m: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      error: this.state.nameError,\n      onChange: this.handleFieldUpdate,\n      label: \"Name\",\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      mr: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleCreateGame(),\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, \"Create Game\"))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignSelf: \"center\",\n      py: 3,\n      pl: 4,\n      borderLeft: 1,\n      borderColor: \"grey.300\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(InputMask, {\n      mask: \"999-999\",\n      maskChar: \" \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, () => /*#__PURE__*/React.createElement(TextField, {\n      error: this.state.gameCodeError,\n      label: \"Game Code\",\n      variant: \"outlined\",\n      type: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 16\n      }\n    })), /*#__PURE__*/React.createElement(Box, {\n      my: 0.5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleJoinGame(),\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, \"Join Game\"))))))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/theo/computerScience/js/shanghai/shanghai/src/App.js"],"names":["React","InputMask","makeStyles","Button","TextField","Divider","Card","CardContent","Box","Grid","CssBaseline","InputAdornment","ClearIcon","openSocket","socket","App","Component","constructor","props","handleFieldUpdate","e","name","value","getTarget","setState","state","console","log","gameCodes","on","gameCode","nameError","gameCodeError","handleCreateGame","trim","handleJoinGame","nameValid","codeValid","length","gameExists","contains","render","minHeight","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport InputMask from \"react-input-mask\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, TextField, Divider, Card, CardContent, Box, Grid, CssBaseline, InputAdornment, ClearIcon } from '@material-ui/core';\nimport openSocket from 'socket.io-client';\n\nconst socket = openSocket('http://localhost:5000');\n\nclass App extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tconsole.log(\"App created\");\n\n\t\tthis.gameCodes = [];\n\t\tsocket.on(\"gamesChanged\", gameCodes => this.gameCodes = gameCodes);\n\n\t\tthis.state = {name: '', gameCode: '', nameError: false, gameCodeError: false};\n\t}\n\n\thandleCreateGame(){\n\t\tconsole.log(\"Create game\");\n\t\tif (this.state.name.trim() === ''){\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tnameError: true\n\t\t\t}));\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(\"Creating game\");\n\t}\n\n\thandleJoinGame(){\n\t\tconst nameValid = this.state.name.trim() !== '';\n\t\tconst codeValid = this.state.gameCode.length === 6;\n\t\tconst gameExists = codeValid && this.gameCodes.contains(this.state.gameCode);\n\t\tconsole.log(nameValid + \"  \" + codeValid + \"  \" + gameExists);\n\n\t\tif (nameValid && gameExists){\n\t\t\tconsole.log(\"Joining game\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState((state, props) => ({\n\t\t\tnameError: !nameValid,\n\t\t\tgameCodeError: !gameExists\n\t\t}));\n\t}\n\n\thandleFieldUpdate = e => {\n\t\tconst [name, value] = e.getTarget();\n\t\tthis.setState((state, props) => ({\n\t\t\t[name]: value\n\t\t}));\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<CssBaseline>\n\t\t\t<Grid container style={{minHeight: '100vh'}} direction='column' justify='center' alignItems='center'><Grid item>\n\t\t\t<Card style={{width: \"fit-content\"}}><CardContent>\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='center' width=\"fit-content\" p={2}>\n\t\t\t\t\t<Box m={3}>\n\t\t\t\t\t\t<TextField error={this.state.nameError} onChange={this.handleFieldUpdate} label=\"Name\" variant=\"outlined\"/>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\n\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t<Box display='flex' justifyContent=\"flex-end\" mr={4}>\n\t\t\t\t\t\t\t\t<Button onClick={() => this.handleCreateGame()} variant='contained' color='primary'>Create Game</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' alignSelf='center' py={3} pl={4} borderLeft={1} borderColor=\"grey.300\">\n\t\t\t\t\t\t\t\t<InputMask mask=\"999-999\" maskChar=\" \">{\n\t\t\t\t\t\t\t\t\t() => <TextField error={this.state.gameCodeError} label=\"Game Code\" variant=\"outlined\" type=\"search\"/>\n\t\t\t\t\t\t\t\t}</InputMask>\n\t\t\t\t\t\t\t\t<Box my={0.5}/>\n\t\t\t\t\t\t\t\t<Button onClick={() => this.handleJoinGame()} variant='contained' color='primary'>Join Game</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</CardContent></Card>\n\t\t\t</Grid></Grid>\n\t\t\t</CssBaseline>\n\t\t);\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}