{"ast":null,"code":"var _jsxFileName = \"/home/theo/computerScience/js/isp/isp/src/Client.js\";\nimport React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport CCIcon from '@material-ui/icons/Eco';\nimport CultIcon from '@material-ui/icons/SupervisorAccount';\nimport SysIcon from '@material-ui/icons/Settings';\nimport FinIcon from '@material-ui/icons/AccountBalance';\nimport Chat from './Chat.js';\nimport Square from './Square.js';\nimport Die from './Die.js';\nimport Consts from './Consts.js';\nimport useFitText from 'use-fit-text';\n\nclass Client extends React.Component {\n  constructor(props) {\n    super(props);\n    this.socket = props.socket;\n    this.game = props.game;\n    this.me = props.me;\n    Square.generateLocations();\n    this.state = {\n      playersSquares: [0, 0, 0, 0],\n      dieNumber: 6,\n      card: {\n        present: false\n      },\n      yourTurn: false,\n      winner: null,\n      goHome: false\n    };\n  }\n\n  componentDidMount() {\n    this.socket.on('rollCompleted', async n => {\n      await this.rollDie(n);\n      this.socket.emit('requestPlayersSquares');\n      this.socket.emit('requestCard');\n    });\n    this.socket.on('cardServed', card => {\n      this.setState((state, props) => ({\n        card: card\n      }));\n    });\n    this.socket.on('playersSquaresUpdated', async playersSquares => {\n      this.setState({\n        playersSquares: playersSquares\n      });\n    });\n    this.socket.on('turnChanged', currentId => {\n      this.setState((state, props) => ({\n        yourTurn: currentId === this.me.uid\n      }));\n    });\n    this.socket.on('winner', name => {\n      this.setState({\n        winner: name\n      });\n    });\n    this.socket.emit('userSync', this.me.name);\n  }\n\n  async rollDie(n) {\n    let lastNumber = 0;\n\n    for (let c = 0; c < 5; c++) {\n      let number = lastNumber;\n\n      while (number === lastNumber) number = Math.floor(Math.random() * 6) + 1;\n\n      this.setState((state, props) => ({\n        dieNumber: number\n      }));\n      await new Promise(resolve => setTimeout(resolve, 100));\n    }\n\n    this.setState((state, props) => ({\n      dieNumber: n\n    }));\n  }\n\n  render() {\n    if (this.state.goHome) return /*#__PURE__*/React.createElement(Router, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    });\n    return /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      key: \"m\",\n      style: {\n        minHeight: '100vh',\n        minWidth: '100vw',\n        position: 'absolute'\n      },\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      key: \"ms\",\n      style: {\n        width: '80%',\n        minHeight: '100vh'\n      },\n      alignItems: \"center\",\n      justify: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      key: \"msc\",\n      style: {\n        width: 'calc(40vw - 44vh)'\n      },\n      direction: \"column\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, this.renderCards()), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: \"msb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, this.renderBoard()), this.renderRight()), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: \"mchat\",\n      style: {\n        width: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Chat, {\n      socket: this.socket,\n      messages: this.game.messages,\n      me: this.me,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }))), this.state.winner && /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.state.goHome = true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: {\n        position: 'absolute',\n        width: '80vw',\n        height: '10vh',\n        top: '41vh'\n      },\n      bgcolor: \"rgba(0, 0, 0, 0.5)\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        color: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, \"Theo won\"))));\n  }\n\n  renderCards() {\n    return [...Array(4).keys()].map(card => /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: 'msc.' + card,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      bgcolor: Consts.COLORS[Consts.ORDER[card]],\n      style: {\n        height: '18vh',\n        width: '12vh'\n      },\n      m: \"2vh\",\n      border: 2,\n      borderRadius: 10,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      display: \"flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }\n    }, card === 0 ? /*#__PURE__*/React.createElement(SysIcon, {\n      style: {\n        width: '6vh',\n        height: '6vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 20\n      }\n    }) : card === 1 ? /*#__PURE__*/React.createElement(FinIcon, {\n      style: {\n        width: '6vh',\n        height: '6vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 20\n      }\n    }) : card === 2 ? /*#__PURE__*/React.createElement(CCIcon, {\n      style: {\n        width: '6vh',\n        height: '6vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 20\n      }\n    }) : card === 3 ? /*#__PURE__*/React.createElement(CultIcon, {\n      style: {\n        width: '6vh',\n        height: '6vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 20\n      }\n    }) : null)));\n  }\n\n  renderRight() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      key: \"msr\",\n      style: {\n        width: 'calc(40vw - 44vh)'\n      },\n      alignContent: \"center\",\n      alignItems: \"center\",\n      direction: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: \"msrd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.socket.emit('rollDie'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Die, {\n      number: this.state.dieNumber,\n      color: this.state.yourTurn ? 'transparent' : 'rgba(0, 0, 0, 0.05)',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: \"msrc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }\n    }, this.state.card.present ? this.renderCard() : this.renderCardSpace()));\n  }\n\n  renderCardSpace() {\n    return /*#__PURE__*/React.createElement(Box, {\n      style: {\n        height: '36vh',\n        width: '24vh'\n      },\n      m: 10,\n      border: 2,\n      borderRadius: 10,\n      bgcolor: \"rgba(0, 0, 0, 0.1)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    });\n  }\n\n  renderCard() {\n    let {\n      type,\n      text,\n      offset,\n      ownerId,\n      back\n    } = this.state.card;\n    let yours = ownerId === this.me.uid;\n    if (back) return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.socket.emit('flipCard', this.state.card),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      bgcolor: Consts.COLORS[Consts.ORDER[type]],\n      m: 10,\n      style: {\n        height: '36vh',\n        width: '24vh'\n      },\n      border: 2,\n      borderRadius: 10,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      display: \"flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 6\n      }\n    }, type === 0 ? /*#__PURE__*/React.createElement(SysIcon, {\n      style: {\n        width: '12vh',\n        height: '12vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 22\n      }\n    }) : type === 1 ? /*#__PURE__*/React.createElement(FinIcon, {\n      style: {\n        width: '12vh',\n        height: '12vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 22\n      }\n    }) : type === 2 ? /*#__PURE__*/React.createElement(CCIcon, {\n      style: {\n        width: '12vh',\n        height: '12vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 22\n      }\n    }) : type === 3 ? /*#__PURE__*/React.createElement(CultIcon, {\n      style: {\n        width: '12vh',\n        height: '12vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 22\n      }\n    }) : null));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.socket.emit('surrenderTurn'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: {\n        height: '36vh',\n        width: '24vh'\n      },\n      m: 10,\n      border: 2,\n      borderRadius: 10,\n      bgcolor: yours ? 'transparent' : 'rgba(0, 0, 0, 0.05)',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"column\",\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      alignItems: \"center\",\n      wrap: \"nowrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: {\n        width: '6vh',\n        height: '6vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 18\n      }\n    }, type === 0 ? /*#__PURE__*/React.createElement(SysIcon, {\n      style: {\n        width: '6vh',\n        height: '6vh',\n        color: Consts.COLORS[Consts.SYS]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 22\n      }\n    }) : type === 1 ? /*#__PURE__*/React.createElement(FinIcon, {\n      style: {\n        width: '6vh',\n        height: '6vh',\n        color: Consts.COLORS[Consts.FIN]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 22\n      }\n    }) : type === 2 ? /*#__PURE__*/React.createElement(CCIcon, {\n      style: {\n        width: '6vh',\n        height: '6vh',\n        color: Consts.COLORS[Consts.CC]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 22\n      }\n    }) : type === 3 ? /*#__PURE__*/React.createElement(CultIcon, {\n      style: {\n        width: '6vh',\n        height: '6vh',\n        color: Consts.COLORS[Consts.CULT]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 22\n      }\n    }) : null)), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: {\n        width: '100%',\n        height: '24vh'\n      },\n      display: \"flex\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(CardText, {\n      text: text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      textAlign: \"center\",\n      display: \"flex\",\n      alignItems: \"center\",\n      fontSize: \"2vh\",\n      style: {\n        height: '6vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 8\n      }\n    }, offset)))));\n  }\n\n  renderBoard() {\n    return [...Array(10).keys()].map(y => /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      key: \"y.\" + y,\n      justify: \"center\",\n      alignItems: \"center\",\n      style: {\n        height: Consts.BOX_S\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 4\n      }\n    }, [...Array(11).keys()].map(x => /*#__PURE__*/React.createElement(Square, {\n      key: \"sq.\" + y + \".\" + x,\n      loc: {\n        x: x,\n        y: y\n      },\n      playersSquares: this.state.playersSquares,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 6\n      }\n    }))));\n  }\n\n}\n\nconst CardText = ({\n  text\n}) => {\n  const {\n    fontSize,\n    ref\n  } = useFitText();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    style: {\n      fontSize,\n      width: '22vh',\n      maxHeight: '24vh',\n      textAlign: 'center',\n      verticalAlign: 'middle'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 3\n    }\n  }, text);\n};\n\nexport default Client;","map":{"version":3,"sources":["/home/theo/computerScience/js/isp/isp/src/Client.js"],"names":["React","Box","Grid","CCIcon","CultIcon","SysIcon","FinIcon","Chat","Square","Die","Consts","useFitText","Client","Component","constructor","props","socket","game","me","generateLocations","state","playersSquares","dieNumber","card","present","yourTurn","winner","goHome","componentDidMount","on","n","rollDie","emit","setState","currentId","uid","name","lastNumber","c","number","Math","floor","random","Promise","resolve","setTimeout","render","minHeight","minWidth","position","width","renderCards","renderBoard","renderRight","messages","height","top","color","Array","keys","map","COLORS","ORDER","renderCard","renderCardSpace","type","text","offset","ownerId","back","yours","SYS","FIN","CC","CULT","y","BOX_S","x","CardText","fontSize","ref","maxHeight","textAlign","verticalAlign"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport CCIcon from '@material-ui/icons/Eco';\nimport CultIcon from '@material-ui/icons/SupervisorAccount';\nimport SysIcon from '@material-ui/icons/Settings';\nimport FinIcon from '@material-ui/icons/AccountBalance';\nimport Chat from './Chat.js';\nimport Square from './Square.js';\nimport Die from './Die.js';\nimport Consts from './Consts.js';\nimport useFitText from 'use-fit-text';\n\nclass Client extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.socket = props.socket;\n\t\tthis.game = props.game;\n\t\tthis.me = props.me;\n\n\t\tSquare.generateLocations();\n\n\t\tthis.state = {playersSquares: [0, 0, 0, 0], dieNumber: 6, card: {present: false}, yourTurn: false, winner: null, goHome: false};\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.socket.on('rollCompleted', async n => {\n\t\t\tawait this.rollDie(n);\n\t\t\tthis.socket.emit('requestPlayersSquares');\n\t\t\tthis.socket.emit('requestCard');\n\t\t});\n\n\t\tthis.socket.on('cardServed', card => {\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tcard: card\n\t\t\t}));\n\t\t});\n\n\t\tthis.socket.on('playersSquaresUpdated', async playersSquares => {\n\t\t\tthis.setState({playersSquares: playersSquares});\n\t\t});\n\n\t\tthis.socket.on('turnChanged', currentId => {\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tyourTurn: (currentId === this.me.uid)\n\t\t\t}));\n\t\t});\n\n\t\tthis.socket.on('winner', name => {\n\t\t\tthis.setState({winner: name});\n\t\t});\n\n\t\tthis.socket.emit('userSync', this.me.name);\n\t}\n\n\tasync rollDie(n) {\n\t\tlet lastNumber = 0;\n\t\tfor (let c=0; c<5; c++){\n\t\t\tlet number = lastNumber;\n\t\t\twhile (number === lastNumber)\n\t\t\t\tnumber = Math.floor(Math.random() * 6) + 1;\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tdieNumber: number\n\t\t\t}));\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 100));\n\t\t}\n\n\t\tthis.setState((state, props) => ({\n\t\t\tdieNumber: n,\n\t\t}));\n\t}\n\n\trender(){\n\t\tif (this.state.goHome)\n\t\t\treturn <Router to='/'/>\n\t\treturn (\n\t\t\t<Box>\n\t\t\t\t<Grid container key='m' style={{minHeight: '100vh', minWidth: '100vw', position: 'absolute'}} direction='row' justify='center' alignItems='center'>\n\t\t\t\t\t<Grid container key='ms' style={{width: '80%', minHeight: '100vh'}} alignItems='center' justify='center'>\n\t\t\t\t\t\t<Grid container key='msc' style={{width: 'calc(40vw - 44vh)'}} direction='column' alignItems='center'>\n\t\t\t\t\t\t\t{this.renderCards()}\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item key='msb'>\n\t\t\t\t\t\t\t{this.renderBoard()}\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t{this.renderRight()}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item key='mchat' style={{width: '20%'}}>\n\t\t\t\t\t\t<Chat socket={this.socket} messages={this.game.messages} me={this.me}/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\n\t\t\t\t{this.state.winner && (\n\t\t\t\t\t<div onClick={() => (this.state.goHome = true)}>\n\t\t\t\t\t<Box style={{position: 'absolute', width: '80vw', height: '10vh', top: '41vh'}} bgcolor='rgba(0, 0, 0, 0.5)' display='flex' justifyContent='center' alignItems='center'>\n\t\t\t\t\t\t<h1 style={{color: 'white'}}>Theo won</h1>\n\t\t\t\t\t</Box></div>)}\n\t\t\t</Box>\n\t\t);\n\t}\n\n\trenderCards(){\n\t\treturn [...Array(4).keys()].map(card => (\n\t\t\t<Grid item key={'msc.' + card}>\n\t\t\t\t<Box bgcolor={Consts.COLORS[Consts.ORDER[card]]} style={{height: '18vh', width: '12vh'}} m='2vh' border={2} borderRadius={10}\n\t\t\t\t\talignItems='center' justifyContent='center' display='flex'>\n\n\t\t\t\t\t{card === 0 ? <SysIcon style={{width: '6vh', height: '6vh'}}/> :\n\t\t\t\t\t\tcard === 1 ? <FinIcon style={{width: '6vh', height: '6vh'}}/> :\n\t\t\t\t\t\tcard === 2 ? <CCIcon style={{width: '6vh', height: '6vh'}}/> :\n\t\t\t\t\t\tcard === 3 ? <CultIcon style={{width: '6vh', height: '6vh'}}/> : null}\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\t\t));\n\t}\n\n\trenderRight(){\n\t\treturn (\n\t\t\t<Grid container key='msr' style={{width: 'calc(40vw - 44vh)'}} alignContent='center' alignItems='center' direction='column'>\n\t\t\t\t<Grid item key='msrd'>\n\t\t\t\t\t<div onClick={() => this.socket.emit('rollDie')}>\n\t\t\t\t\t\t<Die number={this.state.dieNumber} color={this.state.yourTurn ? 'transparent' : 'rgba(0, 0, 0, 0.05)'}/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item key='msrc'>\n\t\t\t\t\t{this.state.card.present ? this.renderCard() : this.renderCardSpace()}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n\trenderCardSpace(){\n\t\treturn (<Box style={{height: '36vh', width: '24vh'}} m={10} border={2} borderRadius={10} bgcolor='rgba(0, 0, 0, 0.1)'/>);\n\t}\n\n\trenderCard(){\n\t\tlet {type, text, offset, ownerId, back} = this.state.card;\n\t\tlet yours = (ownerId === this.me.uid);\n\n\t\tif (back)\n\t\t\treturn (\n\t\t\t\t<div onClick={() => this.socket.emit('flipCard', this.state.card)}>\n\t\t\t\t\t<Box bgcolor={Consts.COLORS[Consts.ORDER[type]]} m={10} style={{height: '36vh', width: '24vh'}} border={2} borderRadius={10}\n\t\t\t\t\t\talignItems='center' justifyContent='center' display='flex'>\n\t\t\t\t\t\t\t{type === 0 ? <SysIcon style={{width: '12vh', height: '12vh'}}/> :\n\t\t\t\t\t\t\t\ttype === 1 ? <FinIcon style={{width: '12vh', height: '12vh'}}/> :\n\t\t\t\t\t\t\t\ttype === 2 ? <CCIcon style={{width: '12vh', height: '12vh'}}/> :\n\t\t\t\t\t\t\t\ttype === 3 ? <CultIcon style={{width: '12vh', height: '12vh'}}/> : null}\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\treturn (\n\t\t\t<div onClick={() => this.socket.emit('surrenderTurn')}>\n\t\t\t\t<Box style={{height: '36vh', width: '24vh'}} m={10} border={2} borderRadius={10} bgcolor={yours ? 'transparent' : 'rgba(0, 0, 0, 0.05)'}>\n\t\t\t\t\t<Grid container direction='column' style={{width: '100%', height: '100%'}} alignItems='center' wrap='nowrap'>\n\t\t\t\t\t\t<Grid item><Box style={{width: '6vh', height: '6vh'}}>\n\t\t\t\t\t\t\t{type === 0 ? <SysIcon style={{width: '6vh', height: '6vh', color: Consts.COLORS[Consts.SYS]}}/> :\n\t\t\t\t\t\t\t\ttype === 1 ? <FinIcon style={{width: '6vh', height: '6vh', color: Consts.COLORS[Consts.FIN]}}/> :\n\t\t\t\t\t\t\t\ttype === 2 ? <CCIcon style={{width: '6vh', height: '6vh', color: Consts.COLORS[Consts.CC]}}/> :\n\t\t\t\t\t\t\t\ttype === 3 ? <CultIcon style={{width: '6vh', height: '6vh', color: Consts.COLORS[Consts.CULT]}}/> : null}\n\t\t\t\t\t\t</Box></Grid>\n\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Box style={{width: '100%', height: '24vh'}} display='flex' alignItems='center'>\n\t\t\t\t\t\t\t\t<CardText text={text}/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Box textAlign='center' display='flex' alignItems='center' fontSize='2vh' style={{height: '6vh'}}>{offset}</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderBoard(){\n\t\treturn [...Array(10).keys()].map(y => (\n\t\t\t<Grid container direction='row' key={\"y.\" + y} justify='center' alignItems='center' style={{height: Consts.BOX_S}}>\n\t\t\t\t{[...Array(11).keys()].map(x => (\n\t\t\t\t\t<Square key={\"sq.\" + y + \".\" + x} loc={{x: x, y: y}} playersSquares={this.state.playersSquares}/>\n\t\t\t\t))}\n\t\t\t</Grid>\n\t\t));\n\t}\n}\n\nconst CardText = ({text}) => {\n\tconst { fontSize, ref } = useFitText();\n\n\treturn (\n\t\t<div ref={ref} style={{ fontSize, width: '22vh', maxHeight: '24vh', textAlign: 'center', verticalAlign: 'middle' }}>{text}</div>\n\t);\n}\n\nexport default Client;\n"]},"metadata":{},"sourceType":"module"}