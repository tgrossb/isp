{"ast":null,"code":"var _jsxFileName = \"/home/theo/computerScience/js/isp/isp/src/GameWaiting.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router';\nimport { Button, Card, CardContent, Grid, List, ListItemText, IconButton } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Chat from './Chat.js';\n\nclass GameWaiting extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleQuit = () => {\n      this.socket.emit(\"quitGame\");\n      this.setState((state, props) => ({\n        goBack: true\n      }));\n    };\n\n    this.handleStartGame = () => {\n      this.socket.emit(\"startGame\");\n    };\n\n    this.socket = props.socket;\n    this.game = props.game;\n    this.me = props.me;\n    this.state = {\n      players: this.game.players,\n      goBack: false,\n      goForward: false\n    };\n  }\n\n  componentDidMount() {\n    this.socket.emit(\"userSync\", this.me.name);\n    this.socket.on(\"gameUpdated\", game => {\n      this.game = game;\n      this.setState((state, props) => ({\n        players: this.game.players\n      }));\n    });\n    this.socket.on(\"forceQuit\", () => {\n      this.socket.emit(\"quitGame\");\n      this.setState((state, props) => ({\n        goBack: true\n      }));\n    });\n    this.socket.on('gameStarted', () => {\n      this.setState((state, props) => ({\n        goForward: true\n      }));\n    });\n  }\n\n  render() {\n    if (this.state.goBack) return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/',\n        state: {\n          name: this.me.name\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    });else if (this.state.goForward) return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/game/' + this.game.gameCode,\n        state: {\n          game: this.game,\n          me: this.me\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    });\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      style: {\n        minHeight: '100vh'\n      },\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      style: {\n        width: '80%'\n      },\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: {\n        width: \"25vw\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"column\",\n      justify: \"space-between\",\n      alignItems: \"stretch\",\n      style: {\n        height: '45vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.handleQuit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        color: 'salmon'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, this.game.gameCode.slice(0, 3) + \"-\" + this.game.gameCode.slice(3))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      component: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 8\n      }\n    }, this.state.players.map((item, index) => /*#__PURE__*/React.createElement(ListItemText, {\n      key: item.id,\n      primary: item.name + (item.id === this.me.uid ? \" (You)\" : \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 50\n      }\n    })))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      variant: \"contained\",\n      disabled: this.game.leaderId !== this.me.uid,\n      onClick: this.handleStartGame,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 8\n      }\n    }, \"Start Game\")))))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      style: {\n        width: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Chat, {\n      socket: this.socket,\n      messages: this.game.messages,\n      me: this.me,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }\n    })));\n  }\n\n}\n\nexport default GameWaiting;","map":{"version":3,"sources":["/home/theo/computerScience/js/isp/isp/src/GameWaiting.js"],"names":["React","Redirect","Button","Card","CardContent","Grid","List","ListItemText","IconButton","ArrowBackIcon","Chat","GameWaiting","Component","constructor","props","handleQuit","socket","emit","setState","state","goBack","handleStartGame","game","me","players","goForward","componentDidMount","name","on","render","pathname","gameCode","minHeight","width","height","color","slice","map","item","index","id","uid","leaderId","messages"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router';\nimport { Button, Card, CardContent, Grid, List, ListItemText, IconButton } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\nimport Chat from './Chat.js';\n\nclass GameWaiting extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.socket = props.socket;\n\t\tthis.game = props.game;\n\t\tthis.me = props.me;\n\n\t\tthis.state = {players: this.game.players, goBack: false, goForward: false};\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.socket.emit(\"userSync\", this.me.name);\n\n\t\tthis.socket.on(\"gameUpdated\", game => {\n\t\t\tthis.game = game;\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tplayers: this.game.players\n\t\t\t}));\n\t\t});\n\n\t\tthis.socket.on(\"forceQuit\", () => {\n\t\t\tthis.socket.emit(\"quitGame\");\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tgoBack: true\n\t\t\t}));\n\t\t});\n\n\t\tthis.socket.on('gameStarted', () => {\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tgoForward: true\n\t\t\t}));\n\t\t});\n\t}\n\n\thandleQuit = () => {\n\t\tthis.socket.emit(\"quitGame\");\n\t\tthis.setState((state, props) => ({\n\t\t\tgoBack: true\n\t\t}));\n\t}\n\n\thandleStartGame = () => {\n\t\tthis.socket.emit(\"startGame\");\n\t}\n\n\trender(){\n\t\tif (this.state.goBack)\n\t\t\treturn <Redirect to={{pathname: '/', state: {name: this.me.name}}}/>;\n\t\telse if (this.state.goForward)\n\t\t\treturn <Redirect to={{pathname: '/game/' + this.game.gameCode, state: {game: this.game, me: this.me}}}/>;\n\n\t\treturn (\n\t\t\t<Grid container style={{minHeight: '100vh'}} direction='row' justify='center' alignItems='center'>\n\t\t\t<Grid item style={{width: '80%'}} align='center'>\n\t\t\t\t<Card style={{width: \"25vw\"}}><CardContent>\n\t\t\t\t\t<Grid container direction='column' justify='space-between' alignItems='stretch' style={{height: '45vh'}}>\n\t\t\t\t\t\t<Grid container item>\n\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t<IconButton onClick={this.handleQuit}>\n\t\t\t\t\t\t\t\t\t<ArrowBackIcon/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t\t\t<h1 style={{color: 'salmon'}}>{this.game.gameCode.slice(0, 3) + \"-\" + this.game.gameCode.slice(3)}</h1>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs/>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<List component=\"nav\">\n\t\t\t\t\t\t\t\t{this.state.players.map((item, index) => <ListItemText key={item.id} primary={item.name + (item.id === this.me.uid ? \" (You)\" : \"\")}/>)}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Button color='primary' variant='contained' disabled={this.game.leaderId !== this.me.uid} onClick={this.handleStartGame}>Start Game</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</CardContent></Card>\n\t\t\t</Grid>\n\t\t\t<Grid item style={{width: '20%'}}>\n\t\t\t\t<Chat socket={this.socket} messages={this.game.messages} me={this.me}/>\n\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default GameWaiting;\n"]},"metadata":{},"sourceType":"module"}