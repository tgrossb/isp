{"ast":null,"code":"var _jsxFileName = \"/home/theo/computerScience/js/isp/isp/src/Square.js\";\nimport React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport Consts from './Consts';\n\nclass Square extends React.Component {\n  constructor(props) {\n    super(props);\n    this.loc = props.loc;\n    this.index = Square.locations.findIndex(loc => Consts.locEq(loc, this.loc));\n    this.color = this.calcColor(this.index);\n  }\n\n  updatePlayersHere() {\n    let playersHere = [];\n    let any = true;\n\n    for (let c = 0; c < this.props.playersSquares.length; c++) {\n      playersHere.push(this.props.playersSquares[c] === this.index);\n      any = any & playersHere[c];\n    }\n\n    return {\n      playersHere: playersHere,\n      any: any\n    };\n  }\n\n  static generateLocations() {\n    Square.locations = [];\n    let loc = Consts.START;\n\n    while (true) {\n      Square.locations.push(loc);\n      loc = Square.getNextLoc(loc);\n\n      if (Consts.locEq(loc, Consts.END)) {\n        Square.locations.push(loc);\n        break;\n      }\n    }\n  }\n\n  static getNextLoc(loc) {\n    let nextVec = Square.getNextLocVector(loc);\n    return {\n      x: loc.x + nextVec.x,\n      y: loc.y + nextVec.y\n    };\n  }\n\n  static getNextLocVector(loc) {\n    let {\n      x,\n      y\n    } = loc;\n    if (x === 0 && y === 0 || x === 2 && y === 2) return Consts.RIGHT;\n    if (x === 10 && y === 0 || x === 8 && y === 2) return Consts.DOWN;\n    if (x === 10 && y === 9 || x === 8 && y === 7) return Consts.LEFT;\n    if (x === 2 && y === 9 || x === 4 && y === 7) return Consts.UP;\n    if (x === 0) return Consts.UP;\n    if (y === 0) return Consts.RIGHT;\n    if (x === 10) return Consts.DOWN;\n    if (y === 9) return Consts.LEFT;\n    if (x === 2) return Consts.UP;\n    if (y === 2) return Consts.RIGHT;\n    if (x === 8) return Consts.DOWN;\n    if (y === 7) return Consts.LEFT;\n    if (x === 4) return Consts.UP;\n  }\n\n  calcColor(index) {\n    if (index == -1) return Consts.CLEAR;\n    if (Consts.locEq(this.loc, Consts.START)) return Consts.START_COLOR;\n    if (Consts.locEq(this.loc, Consts.END)) return Consts.END_COLOR;\n    index--;\n    if (index < 20) return Consts.COLORS[Consts.ORDER[Math.floor(index / 5)]];\n    index -= 20;\n    if (index < 16) return Consts.COLORS[Consts.ORDER[Math.floor(index / 4)]];\n    index -= 16;\n    if (index < 12) return Consts.COLORS[Consts.ORDER[Math.floor(index / 3)]];\n    index -= 12;\n    if (index < 8) return Consts.COLORS[Consts.ORDER[Math.floor(index / 2)]];\n    return Consts.COLORS[Consts.ORDER[index - 8]];\n  }\n\n  render() {\n    let {\n      playersHere,\n      any\n    } = this.updatePlayersHere();\n    let key = \"y.\" + this.loc.y + \".x.\" + this.loc.x;\n    return /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: key,\n      style: {\n        width: Consts.BOX_S,\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      border: this.color === Consts.CLEAR ? 0 : 1,\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      bgcolor: this.color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 5\n      }\n    }, any && /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      key: key + \".icons\",\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, [...Array(2).keys()].map(r => /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      key: key + \".ir.\" + r,\n      direction: \"row\",\n      style: {\n        width: '100%',\n        height: '50%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 8\n      }\n    }, [...Array(2).keys()].map(c => /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: key + \".ir\" + r + \".ic.\" + c,\n      style: {\n        width: '50%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      p: 0.5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, playersHere[2 * r + c] ? /*#__PURE__*/React.createElement(\"img\", {\n      src: Consts.PLAYER_ICONS[2 * r + c],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 34\n      }\n    }) : null))))))));\n  }\n\n}\n\nSquare.locations = [];\nexport default Square;","map":{"version":3,"sources":["/home/theo/computerScience/js/isp/isp/src/Square.js"],"names":["React","Box","Grid","Consts","Square","Component","constructor","props","loc","index","locations","findIndex","locEq","color","calcColor","updatePlayersHere","playersHere","any","c","playersSquares","length","push","generateLocations","START","getNextLoc","END","nextVec","getNextLocVector","x","y","RIGHT","DOWN","LEFT","UP","CLEAR","START_COLOR","END_COLOR","COLORS","ORDER","Math","floor","render","key","width","BOX_S","height","Array","keys","map","r","PLAYER_ICONS"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport Consts from './Consts';\n\nclass Square extends React.Component {\n\tstatic locations = [];\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.loc = props.loc;\n\t\tthis.index = Square.locations.findIndex(loc => Consts.locEq(loc, this.loc));\n\t\tthis.color = this.calcColor(this.index);\n\t}\n\n\tupdatePlayersHere(){\n\t\tlet playersHere = [];\n\t\tlet any = true;\n\t\tfor (let c=0; c<this.props.playersSquares.length; c++){\n\t\t\tplayersHere.push(this.props.playersSquares[c] === this.index);\n\t\t\tany = any & playersHere[c];\n\t\t}\n\t\treturn {playersHere: playersHere, any: any};\n\t}\n\n\tstatic generateLocations(){\n\t\tSquare.locations = [];\n\t\tlet loc = Consts.START;\n\t\twhile (true){\n\t\t\tSquare.locations.push(loc);\n\t\t\tloc = Square.getNextLoc(loc);\n\t\t\tif (Consts.locEq(loc, Consts.END)){\n\t\t\t\tSquare.locations.push(loc);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic getNextLoc(loc){\n\t\tlet nextVec = Square.getNextLocVector(loc);\n\t\treturn {x: loc.x + nextVec.x, y: loc.y + nextVec.y};\n\t}\n\n\tstatic getNextLocVector(loc){\n\t\tlet {x, y} = loc;\n\n\t\tif ((x === 0 && y === 0) || (x === 2 && y === 2))\n\t\t\treturn Consts.RIGHT;\n\t\tif ((x === 10 && y === 0) || (x === 8 && y === 2))\n\t\t\treturn Consts.DOWN;\n\t\tif ((x === 10 && y === 9) || (x === 8 && y === 7))\n\t\t\treturn Consts.LEFT;\n\t\tif ((x === 2 && y === 9) || (x === 4 && y === 7))\n\t\t\treturn Consts.UP;\n\n\t\tif (x === 0) return Consts.UP;\n\t\tif (y === 0) return Consts.RIGHT;\n\t\tif (x === 10) return Consts.DOWN;\n\t\tif (y === 9) return Consts.LEFT;\n\t\tif (x === 2) return Consts.UP;\n\t\tif (y === 2) return Consts.RIGHT;\n\t\tif (x === 8) return Consts.DOWN;\n\t\tif (y === 7) return Consts.LEFT;\n\t\tif (x === 4) return Consts.UP;\n\t}\n\n\tcalcColor(index){\n\t\tif (index == -1)\n\t\t\treturn Consts.CLEAR\n\t\tif (Consts.locEq(this.loc, Consts.START))\n\t\t\treturn Consts.START_COLOR;\n\t\tif (Consts.locEq(this.loc, Consts.END))\n\t\t\treturn Consts.END_COLOR;\n\n\t\tindex--;\n\t\tif (index < 20)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/5)]];\n\t\tindex -= 20;\n\t\tif (index < 16)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/4)]];\n\t\tindex -= 16;\n\t\tif (index < 12)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/3)]];\n\t\tindex -= 12;\n\t\tif (index < 8)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/2)]];\n\t\treturn Consts.COLORS[Consts.ORDER[index-8]];\n\t}\n\n\trender(){\n\t\tlet {playersHere, any} = this.updatePlayersHere();\n\t\tlet key = \"y.\" + this.loc.y + \".x.\" + this.loc.x;\n\t\treturn (\n\t\t\t<Grid item key={key} style={{width: Consts.BOX_S, height: '100%'}}>\n\t\t\t\t<Box border={(this.color === Consts.CLEAR) ? 0 : 1} style={{width: '100%', height: '100%'}} bgcolor={this.color}>\n\t\t\t\t\t{any && (<Grid container key={key + \".icons\"}style={{width: '100%', height: '100%'}}>\n\t\t\t\t\t\t{[...Array(2).keys()].map(r => (\n\t\t\t\t\t\t\t<Grid container key={key + \".ir.\" + r}direction='row' style={{width: '100%', height: '50%'}}>\n\t\t\t\t\t\t\t\t{[...Array(2).keys()].map(c => (\n\t\t\t\t\t\t\t\t\t<Grid item key={key + \".ir\" + r + \".ic.\" + c} style={{width: '50%', height: '100%'}}>\n\t\t\t\t\t\t\t\t\t\t<Box p={0.5}>\n\t\t\t\t\t\t\t\t\t\t\t{playersHere[2*r+c] ? <img src={Consts.PLAYER_ICONS[2*r+c]}/> : null}\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>)}\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Square;\n"]},"metadata":{},"sourceType":"module"}