{"ast":null,"code":"var _jsxFileName = \"/home/theo/computerScience/js/shanghai/shanghai/src/Start.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router';\nimport InputMask from \"react-input-mask\";\nimport { Button, TextField, Card, CardContent, Box, Grid } from '@material-ui/core';\nimport Logo from \"./shanghai.svg\";\n\nclass Start extends React.Component {\n  constructor(props) {\n    super(props);\n    this.socket = props.socket;\n    this.gameCodes = [];\n    this.state = {\n      name: '',\n      gameCode: '',\n      nameError: false,\n      gameCodeError: false,\n      gameCodeErrorText: '',\n      goToGame: null\n    };\n    this.socket.emit(\"getGameCodes\");\n    this.socket.on(\"gameCodesUpdated\", gameCodes => {\n      this.gameCodes = gameCodes;\n    });\n  }\n\n  handleCreateGame() {\n    if (this.state.name.trim() === '') {\n      this.setState((state, props) => ({\n        nameError: true\n      }));\n      return;\n    }\n\n    this.socket.emit(\"createGame\", this.state.name);\n    this.socket.on(\"yourGameCreated\", game => {\n      console.log(\"game created\");\n      this.setState((state, props) => ({\n        goToGame: game\n      }));\n      console.log(\"state set\");\n    });\n  }\n\n  handleJoinGame() {\n    const nameValid = this.state.name.trim() !== '';\n    const codeValid = this.state.gameCode.length === 6;\n    const gameExists = codeValid && this.gameCodes.includes(this.state.gameCode);\n\n    if (nameValid && gameExists) {\n      this.socket.emit(\"joinGame\", {\n        name: this.state.name,\n        gameCode: this.state.gameCode\n      });\n      this.socket.on(\"gameJoined\", game => {\n        this.setState((state, props) => ({\n          goToGame: game\n        }));\n      });\n      return;\n    }\n\n    this.setState((state, props) => ({\n      nameError: !nameValid,\n      gameCodeError: !gameExists,\n      gameCodeErrorText: codeValid ? \"This game doesn't exist\" : \"\"\n    }));\n  }\n\n  handleFieldUpdate(e) {\n    let {\n      name,\n      value\n    } = e.target;\n    if (name === 'gameCode') value = value.replace('-', '').trim();\n    this.setState((state, props) => ({\n      [name]: value,\n      [name + \"Error\"]: false,\n      [name + \"ErrorText\"]: ''\n    }));\n  }\n\n  render() {\n    console.log(this.state);\n\n    if (this.state.goToGame) {\n      console.log(\"going to game\");\n      return /*#__PURE__*/React.createElement(Redirect, {\n        push: true,\n        to: {\n          pathname: \"/\" + this.state.goToGame.gameCode,\n          state: {\n            game: this.state.goToGame\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 12\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      style: {\n        minHeight: '100vh'\n      },\n      direction: \"column\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 105\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: {\n        width: \"fit-content\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      p: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Logo,\n      style: {\n        width: \"75%\",\n        height: \"auto\",\n        display: \"block\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      width: \"fit-content\",\n      p: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      m: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"name\",\n      error: this.state.nameError,\n      onChange: e => this.handleFieldUpdate(e),\n      label: \"Name\",\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      mr: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleCreateGame(),\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, \"Create Game\"))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignSelf: \"center\",\n      py: 3,\n      pl: 4,\n      borderLeft: 1,\n      borderColor: \"grey.300\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(InputMask, {\n      mask: \"999-999\",\n      maskChar: \" \",\n      onChange: e => this.handleFieldUpdate(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, () => /*#__PURE__*/React.createElement(TextField, {\n      name: \"gameCode\",\n      error: this.state.gameCodeError,\n      helperText: this.state.gameCodeErrorText,\n      onClick: e => this.handleFieldUpdate(e),\n      label: \"Game Code\",\n      variant: \"outlined\",\n      type: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 18\n      }\n    })), /*#__PURE__*/React.createElement(Box, {\n      my: 0.5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleJoinGame(),\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, \"Join Game\")))))))))));\n  }\n\n}\n\nexport default Start;","map":{"version":3,"sources":["/home/theo/computerScience/js/shanghai/shanghai/src/Start.js"],"names":["React","Redirect","InputMask","Button","TextField","Card","CardContent","Box","Grid","Start","Component","constructor","props","socket","gameCodes","state","name","gameCode","nameError","gameCodeError","gameCodeErrorText","goToGame","emit","on","handleCreateGame","trim","setState","game","console","log","handleJoinGame","nameValid","codeValid","length","gameExists","includes","handleFieldUpdate","e","value","target","replace","render","pathname","minHeight","width","Logo","height","display","marginLeft","marginRight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router';\nimport InputMask from \"react-input-mask\";\nimport { Button, TextField, Card, CardContent, Box, Grid } from '@material-ui/core';\nimport Logo from './shanghai.svg';\n\nclass Start extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.socket = props.socket;\n\n\t\tthis.gameCodes = [];\n\t\tthis.state = {name: '', gameCode: '', nameError: false, gameCodeError: false, gameCodeErrorText: '', goToGame: null};\n\n\t\tthis.socket.emit(\"getGameCodes\");\n\n\t\tthis.socket.on(\"gameCodesUpdated\", gameCodes => {\n\t\t\tthis.gameCodes = gameCodes;\n\t\t});\n\t}\n\n\thandleCreateGame(){\n\t\tif (this.state.name.trim() === ''){\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tnameError: true\n\t\t\t}));\n\t\t\treturn;\n\t\t}\n\n\t\tthis.socket.emit(\"createGame\", this.state.name);\n\t\tthis.socket.on(\"yourGameCreated\", game => {\n\t\t\tconsole.log(\"game created\");\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tgoToGame: game\n\t\t\t}));\n\t\t\tconsole.log(\"state set\");\n\t\t});\n\t}\n\n\thandleJoinGame(){\n\t\tconst nameValid = this.state.name.trim() !== '';\n\t\tconst codeValid = this.state.gameCode.length === 6;\n\t\tconst gameExists = codeValid && this.gameCodes.includes(this.state.gameCode);\n\n\t\tif (nameValid && gameExists){\n\t\t\tthis.socket.emit(\"joinGame\", {name: this.state.name, gameCode: this.state.gameCode});\n\t\t\tthis.socket.on(\"gameJoined\", game => {\n\t\t\t\tthis.setState((state, props) => ({\n\t\t\t\t\tgoToGame: game\n\t\t\t\t}));\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState((state, props) => ({\n\t\t\tnameError: !nameValid,\n\t\t\tgameCodeError: !gameExists,\n\t\t\tgameCodeErrorText: codeValid ? \"This game doesn't exist\" : \"\"\n\t\t}));\n\t}\n\n\thandleFieldUpdate(e){\n\t\tlet { name, value } = e.target;\n\t\tif (name === 'gameCode')\n\t\t\tvalue = value.replace('-', '').trim();\n\t\tthis.setState((state, props) => ({\n\t\t\t[name]: value,\n\t\t\t[name+\"Error\"]: false,\n\t\t\t[name+\"ErrorText\"]: ''\n\t\t}));\n\t}\n\n\trender(){\n\t\tconsole.log(this.state);\n\t\tif (this.state.goToGame){\n\t\t\tconsole.log(\"going to game\");\n\t\t\treturn (<Redirect push to={{\n\t\t\t\t\tpathname: \"/\" + this.state.goToGame.gameCode,\n\t\t\t\t\tstate: {game: this.state.goToGame}\n\t\t\t\t}}/>);\n\t\t}\n\n\t\treturn (\n\t\t\t<Grid container style={{minHeight: '100vh'}} direction='column' justify='center' alignItems='center'><Grid item>\n\t\t\t\t<Card style={{width: \"fit-content\"}}><CardContent>\n\t\t\t\t\t<Grid container direction='column'>\n\t\t\t\t\t\t<Grid item><Box p={3}>\n\t\t\t\t\t\t\t<img src={Logo} style={{width: \"75%\", height: \"auto\", display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}}/>\n\t\t\t\t\t\t</Box></Grid>\n\n\t\t\t\t\t\t<Grid item><Box display='flex' flexDirection='column' alignItems='center' width=\"fit-content\" p={2}>\n\t\t\t\t\t\t\t<Box m={3}>\n\t\t\t\t\t\t\t\t<TextField name=\"name\" error={this.state.nameError} onChange={e => this.handleFieldUpdate(e)} label=\"Name\" variant=\"outlined\"/>\n\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\n\t\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent=\"flex-end\" mr={4}>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={() => this.handleCreateGame()} variant='contained' color='primary'>Create Game</Button>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' alignSelf='center' py={3} pl={4} borderLeft={1} borderColor=\"grey.300\">\n\t\t\t\t\t\t\t\t\t\t<InputMask mask=\"999-999\" maskChar=\" \" onChange={e => this.handleFieldUpdate(e)}>{\n\t\t\t\t\t\t\t\t\t\t\t() => <TextField\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"gameCode\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={this.state.gameCodeError}\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={this.state.gameCodeErrorText}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => this.handleFieldUpdate(e)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Game Code\" variant=\"outlined\" type=\"search\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}</InputMask>\n\t\t\t\t\t\t\t\t\t\t<Box my={0.5}/>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={() => this.handleJoinGame()} variant='contained' color='primary'>Join Game</Button>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Box></Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</CardContent></Card>\n\t\t\t</Grid></Grid>\n\t\t);\n\t}\n}\n\nexport default Start;\n"]},"metadata":{},"sourceType":"module"}