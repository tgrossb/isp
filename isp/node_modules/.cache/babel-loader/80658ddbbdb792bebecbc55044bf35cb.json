{"ast":null,"code":"var _jsxFileName = \"/home/theo/computerScience/js/isp/isp/src/Square.js\";\nimport React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport Consts from './Consts';\n\nclass Square extends React.Component {\n  constructor(props) {\n    super(props);\n    this.loc = props.loc;\n    this.index = Square.locations.findIndex(loc => loc == this.loc);\n    this.color = this.calcColor(this.index);\n    this.playersHere = [false, false, false, false];\n\n    for (let c = 0; c < 4; c++) this.playersHere[c] = props.playersSquares[c] === this.index;\n  }\n\n  static generateLocations() {\n    Square.locations = [];\n    let loc = Consts.START;\n\n    while (true) {\n      Square.locations.push(loc);\n      loc = Square.getNextLoc(loc);\n\n      if (loc == Consts.END) {\n        Square.locations.push(loc);\n        break;\n      }\n    }\n\n    console.log(\"locations generated\");\n  }\n\n  static getNextLoc(loc) {\n    let nextVec = Square.getNextLocVector(loc);\n    return {\n      x: loc.x + nextVec.x,\n      y: loc.y + nextVec.y\n    };\n  }\n\n  static getNextLocVector(loc) {\n    let {\n      x,\n      y\n    } = loc;\n    if (x === 0 && y === 0 || x === 2 && y === 2) return Consts.RIGHT;\n    if (x === 10 && y === 0 || x === 8 && y === 2) return Consts.DOWN;\n    if (x === 10 && y === 9 || x === 8 && y === 7) return Consts.LEFT;\n    if (x === 2 && y === 9 || x === 4 && y === 7) return Consts.UP;\n    if (x === 0) return Consts.UP;\n    if (y === 0) return Consts.RIGHT;\n    if (x === 10) return Consts.DOWN;\n    if (y === 9) return Consts.LEFT;\n    if (x === 2) return Consts.UP;\n    if (y === 2) return Consts.RIGHT;\n    if (x === 8) return Consts.DOWN;\n    if (y === 7) return Consts.LEFT;\n    if (x === 4) return Consts.UP;\n  }\n\n  calcColor(index) {\n    if (this.loc === Consts.START) return Consts.START_COLOR;\n    if (this.loc === Consts.END) return Consts.END_COLOR;\n    if (index < 21) return Consts.COLORS[Consts.ORDER[Math.floor(index / 5)]];\n    if (index < 38) return Consts.COLORS[Consts.ORDER[Math.floor((index - 21) / 4)]];\n    if (index < 51) return Consts.COLORS[Consts.ORDER[Math.floor((index - 38) / 3)]];\n    if (index < 59) return Consts.COLORS[Consts.ORDER[Math.floor((index - 51) / 2)]];\n    return Consts.COLORS[Consts.ORDER[index - 59]];\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: \"y.\" + this.loc.y + \".x.\" + this.loc.x,\n      style: {\n        width: Consts.BOX_S,\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      border: this.color === Consts.CLEAR ? 0 : 1,\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      bgcolor: this.color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 6\n      }\n    }, [...Array(2).keys()].map(r => /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      style: {\n        width: '100%',\n        height: '50%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 8\n      }\n    }, [...Array(2).keys().map(c => /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      style: {\n        width: '50%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      p: 0.5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, this.playersHere[2 * r + c] ? /*#__PURE__*/React.createElement(\"img\", {\n      src: Consts.PLAYER_ICONS[2 * r + c],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 39\n      }\n    }) : null)))])))));\n  }\n\n}\n\nSquare.locations = [];\nexport default Square;","map":{"version":3,"sources":["/home/theo/computerScience/js/isp/isp/src/Square.js"],"names":["React","Box","Grid","Consts","Square","Component","constructor","props","loc","index","locations","findIndex","color","calcColor","playersHere","c","playersSquares","generateLocations","START","push","getNextLoc","END","console","log","nextVec","getNextLocVector","x","y","RIGHT","DOWN","LEFT","UP","START_COLOR","END_COLOR","COLORS","ORDER","Math","floor","render","width","BOX_S","height","CLEAR","Array","keys","map","r","PLAYER_ICONS"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport Consts from './Consts';\n\nclass Square extends React.Component {\n\tstatic locations = [];\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.loc = props.loc;\n\t\tthis.index = Square.locations.findIndex(loc => loc == this.loc);\n\t\tthis.color = this.calcColor(this.index);\n\n\t\tthis.playersHere = [false, false, false, false];\n\t\tfor (let c=0; c<4; c++)\n\t\t\tthis.playersHere[c] = (props.playersSquares[c] === this.index);\n\t}\n\n\tstatic generateLocations(){\n\t\tSquare.locations = [];\n\t\tlet loc = Consts.START;\n\t\twhile (true){\n\t\t\tSquare.locations.push(loc);\n\t\t\tloc = Square.getNextLoc(loc);\n\t\t\tif (loc == Consts.END){\n\t\t\t\tSquare.locations.push(loc);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tconsole.log(\"locations generated\");\n\t}\n\n\tstatic getNextLoc(loc){\n\t\tlet nextVec = Square.getNextLocVector(loc);\n\t\treturn {x: loc.x + nextVec.x, y: loc.y + nextVec.y};\n\t}\n\n\tstatic getNextLocVector(loc){\n\t\tlet {x, y} = loc;\n\n\t\tif ((x === 0 && y === 0) || (x === 2 && y === 2))\n\t\t\treturn Consts.RIGHT;\n\t\tif ((x === 10 && y === 0) || (x === 8 && y === 2))\n\t\t\treturn Consts.DOWN;\n\t\tif ((x === 10 && y === 9) || (x === 8 && y === 7))\n\t\t\treturn Consts.LEFT;\n\t\tif ((x === 2 && y === 9) || (x === 4 && y === 7))\n\t\t\treturn Consts.UP;\n\n\t\tif (x === 0) return Consts.UP;\n\t\tif (y === 0) return Consts.RIGHT;\n\t\tif (x === 10) return Consts.DOWN;\n\t\tif (y === 9) return Consts.LEFT;\n\t\tif (x === 2) return Consts.UP;\n\t\tif (y === 2) return Consts.RIGHT;\n\t\tif (x === 8) return Consts.DOWN;\n\t\tif (y === 7) return Consts.LEFT;\n\t\tif (x === 4) return Consts.UP;\n\t}\n\n\tcalcColor(index){\n\t\tif (this.loc === Consts.START)\n\t\t\treturn Consts.START_COLOR;\n\t\tif (this.loc === Consts.END)\n\t\t\treturn Consts.END_COLOR;\n\n\t\tif (index < 21)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/5)]];\n\t\tif (index < 38)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor((index-21)/4)]];\n\t\tif (index < 51)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor((index-38)/3)]];\n\t\tif (index < 59)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor((index-51)/2)]];\n\t\treturn Consts.COLORS[Consts.ORDER[index-59]];\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Grid item key={\"y.\" + this.loc.y + \".x.\" + this.loc.x} style={{width: Consts.BOX_S, height: '100%'}}>\n\t\t\t\t<Box border={(this.color === Consts.CLEAR) ? 0 : 1} style={{width: '100%', height: '100%'}} bgcolor={this.color}>\n\t\t\t\t\t<Grid container style={{width: '100%', height: '100%'}}>\n\t\t\t\t\t\t{[...Array(2).keys()].map(r => (\n\t\t\t\t\t\t\t<Grid container direction='row' style={{width: '100%', height: '50%'}}>\n\t\t\t\t\t\t\t\t{[...Array(2).keys().map(c => (\n\t\t\t\t\t\t\t\t\t<Grid item style={{width: '50%', height: '100%'}}>\n\t\t\t\t\t\t\t\t\t\t<Box p={0.5}>\n\t\t\t\t\t\t\t\t\t\t\t{this.playersHere[2*r+c] ? <img src={Consts.PLAYER_ICONS[2*r+c]}/> : null}\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t))]}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Square;\n"]},"metadata":{},"sourceType":"module"}