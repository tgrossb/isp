{"ast":null,"code":"var _jsxFileName = \"/home/theo/computerScience/js/shanghai/shanghai/src/GameWaiting.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router';\nimport { Button, TextField, Divider, Card, CardContent, Box, Grid, List, ListItemText, IconButton } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Chat from './Chat.js';\n\nclass GameWaiting extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleQuit = () => {\n      this.socket.emit(\"quitGame\", {\n        name: this.me.name,\n        game: this.game.gameCode\n      });\n      this.socket.setState((state, props) => ({\n        goBack: true\n      }));\n    };\n\n    this.handleStartGame = () => {};\n\n    this.socket = props.socket;\n    this.game = props.game;\n    this.me = props.me;\n    this.state = {\n      players: this.game.players,\n      goBack: false\n    };\n  }\n\n  componentDidMount() {\n    this.socket.emit(\"userSync\", this.me.name);\n    this.socket.on(\"gameUpdated\", game => {\n      this.game = game;\n      this.setState((state, props) => ({\n        players: this.game.players\n      }));\n    });\n  }\n\n  render() {\n    if (this.state.goBack) return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/',\n        state: {\n          name: this.me.name\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    });\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      style: {\n        minHeight: '100vh'\n      },\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      style: {\n        width: '80%'\n      },\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: {\n        width: \"25vw\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"column\",\n      justify: \"space-between\",\n      alignItems: \"stretch\",\n      style: {\n        height: '45vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.handleQuit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        color: 'salmon'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, this.game.gameCode.slice(0, 3) + \"-\" + this.game.gameCode.slice(3))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      component: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 8\n      }\n    }, this.state.players.map((item, index) => /*#__PURE__*/React.createElement(ListItemText, {\n      key: item.id,\n      primary: item.name + (item.id === this.me.uid ? \" (You)\" : \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 50\n      }\n    })))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      variant: \"contained\",\n      disabled: this.game.leaderId !== this.me.uid,\n      onClick: this.handleStartGame,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }\n    }, \"Start Game\")))))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      style: {\n        width: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Chat, {\n      socket: this.socket,\n      messages: this.game.messages,\n      me: this.me,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }\n    })));\n  }\n\n}\n\nexport default GameWaiting;","map":{"version":3,"sources":["/home/theo/computerScience/js/shanghai/shanghai/src/GameWaiting.js"],"names":["React","Redirect","Button","TextField","Divider","Card","CardContent","Box","Grid","List","ListItemText","IconButton","ArrowBackIcon","Chat","GameWaiting","Component","constructor","props","handleQuit","socket","emit","name","me","game","gameCode","setState","state","goBack","handleStartGame","players","componentDidMount","on","render","pathname","minHeight","width","height","color","slice","map","item","index","id","uid","leaderId","messages"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router';\nimport { Button, TextField, Divider, Card, CardContent, Box, Grid, List, ListItemText, IconButton } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\nimport Chat from './Chat.js';\n\nclass GameWaiting extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.socket = props.socket;\n\t\tthis.game = props.game;\n\t\tthis.me = props.me;\n\n\t\tthis.state = {players: this.game.players, goBack: false};\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.socket.emit(\"userSync\", this.me.name);\n\n\t\tthis.socket.on(\"gameUpdated\", game => {\n\t\t\tthis.game = game;\n\t\t\tthis.setState((state, props) => ({\n\t\t\t\tplayers: this.game.players\n\t\t\t}));\n\t\t});\n\t}\n\n\thandleQuit = () => {\n\t\tthis.socket.emit(\"quitGame\", {name: this.me.name, game: this.game.gameCode});\n\t\tthis.socket.setState((state, props) => ({\n\t\t\tgoBack: true\n\t\t}));\n\t}\n\n\thandleStartGame = () => {\n\t}\n\n\trender(){\n\t\tif (this.state.goBack)\n\t\t\treturn <Redirect to={{pathname: '/', state: {name: this.me.name}}}/>;\n\n\t\treturn (\n\t\t\t<Grid container style={{minHeight: '100vh'}} direction='row' justify='center' alignItems='center'>\n\t\t\t<Grid item style={{width: '80%'}} align='center'>\n\t\t\t\t<Card style={{width: \"25vw\"}}><CardContent>\n\t\t\t\t\t<Grid container direction='column' justify='space-between' alignItems='stretch' style={{height: '45vh'}}>\n\t\t\t\t\t\t<Grid container item>\n\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t<IconButton onClick={this.handleQuit}>\n\t\t\t\t\t\t\t\t\t<ArrowBackIcon/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t\t\t<h1 style={{color: 'salmon'}}>{this.game.gameCode.slice(0, 3) + \"-\" + this.game.gameCode.slice(3)}</h1>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs/>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<List component=\"nav\">\n\t\t\t\t\t\t\t\t{this.state.players.map((item, index) => <ListItemText key={item.id} primary={item.name + (item.id === this.me.uid ? \" (You)\" : \"\")}/>)}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Button color='primary' variant='contained' disabled={this.game.leaderId !== this.me.uid} onClick={this.handleStartGame}>Start Game</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</CardContent></Card>\n\t\t\t</Grid>\n\t\t\t<Grid item style={{width: '20%'}}>\n\t\t\t\t<Chat socket={this.socket} messages={this.game.messages} me={this.me}/>\n\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default GameWaiting;\n"]},"metadata":{},"sourceType":"module"}