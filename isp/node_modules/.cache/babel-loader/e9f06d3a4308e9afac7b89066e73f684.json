{"ast":null,"code":"var _jsxFileName = \"/home/theo/computerScience/js/isp/isp/src/Square.js\";\nimport React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport Consts from './Consts';\n\nclass Square extends React.Component {\n  constructor(props) {\n    super(props);\n    this.loc = props.loc;\n    this.index = Square.locations.findIndex(loc => Consts.locEq(loc, this.loc));\n    this.color = this.calcColor(this.index);\n    this.playersHere = [false, false, false, false];\n\n    for (let c = 0; c < 4; c++) this.playersHere[c] = props.playersSquares[c] === this.index;\n  }\n\n  static generateLocations() {\n    Square.locations = [];\n    let loc = Consts.START;\n\n    while (true) {\n      Square.locations.push(loc);\n      loc = Square.getNextLoc(loc);\n\n      if (Consts.locEq(loc, Consts.END)) {\n        Square.locations.push(loc);\n        break;\n      }\n    }\n  }\n\n  static getNextLoc(loc) {\n    let nextVec = Square.getNextLocVector(loc);\n    return {\n      x: loc.x + nextVec.x,\n      y: loc.y + nextVec.y\n    };\n  }\n\n  static getNextLocVector(loc) {\n    let {\n      x,\n      y\n    } = loc;\n    if (x === 0 && y === 0 || x === 2 && y === 2) return Consts.RIGHT;\n    if (x === 10 && y === 0 || x === 8 && y === 2) return Consts.DOWN;\n    if (x === 10 && y === 9 || x === 8 && y === 7) return Consts.LEFT;\n    if (x === 2 && y === 9 || x === 4 && y === 7) return Consts.UP;\n    if (x === 0) return Consts.UP;\n    if (y === 0) return Consts.RIGHT;\n    if (x === 10) return Consts.DOWN;\n    if (y === 9) return Consts.LEFT;\n    if (x === 2) return Consts.UP;\n    if (y === 2) return Consts.RIGHT;\n    if (x === 8) return Consts.DOWN;\n    if (y === 7) return Consts.LEFT;\n    if (x === 4) return Consts.UP;\n  }\n\n  calcColor(index) {\n    if (Consts.locEq(this.loc, Consts.START)) return Consts.START_COLOR;\n    if (Consts.locEq(this.loc, Consts.END)) return Consts.END_COLOR;\n    index--;\n    if (index < 20) return Consts.COLORS[Consts.ORDER[Math.floor(index / 5)]];\n    index -= 20;\n    if (index < 16) return Consts.COLORS[Consts.ORDER[Math.floor(index / 4)]];\n    index -= 16;\n    if (index < 12) return Consts.COLORS[Consts.ORDER[Math.floor(index / 3)]];\n    index -= 12;\n    if (index < 8) return Consts.COLORS[Consts.ORDER[Math.floor(index / 2)]];\n    return Consts.COLORS[Consts.ORDER[index - 8]];\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: \"y.\" + this.loc.y + \".x.\" + this.loc.x,\n      style: {\n        width: Consts.BOX_S,\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      border: this.color === Consts.CLEAR ? 0 : 1,\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      bgcolor: this.color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 6\n      }\n    }, [...Array(2).keys()].map(r => /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      style: {\n        width: '100%',\n        height: '50%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 8\n      }\n    }, [...Array(2).keys()].map(c => /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      style: {\n        width: '50%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      p: 0.5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, this.playersHere[2 * r + c] ? /*#__PURE__*/React.createElement(\"img\", {\n      src: Consts.PLAYER_ICONS[2 * r + c],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 39\n      }\n    }) : null))))))));\n  }\n\n}\n\nSquare.locations = [];\nexport default Square;","map":{"version":3,"sources":["/home/theo/computerScience/js/isp/isp/src/Square.js"],"names":["React","Box","Grid","Consts","Square","Component","constructor","props","loc","index","locations","findIndex","locEq","color","calcColor","playersHere","c","playersSquares","generateLocations","START","push","getNextLoc","END","nextVec","getNextLocVector","x","y","RIGHT","DOWN","LEFT","UP","START_COLOR","END_COLOR","COLORS","ORDER","Math","floor","render","width","BOX_S","height","CLEAR","Array","keys","map","r","PLAYER_ICONS"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport Consts from './Consts';\n\nclass Square extends React.Component {\n\tstatic locations = [];\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.loc = props.loc;\n\t\tthis.index = Square.locations.findIndex(loc => Consts.locEq(loc, this.loc));\n\t\tthis.color = this.calcColor(this.index);\n\n\t\tthis.playersHere = [false, false, false, false];\n\t\tfor (let c=0; c<4; c++)\n\t\t\tthis.playersHere[c] = (props.playersSquares[c] === this.index);\n\t}\n\n\tstatic generateLocations(){\n\t\tSquare.locations = [];\n\t\tlet loc = Consts.START;\n\t\twhile (true){\n\t\t\tSquare.locations.push(loc);\n\t\t\tloc = Square.getNextLoc(loc);\n\t\t\tif (Consts.locEq(loc, Consts.END)){\n\t\t\t\tSquare.locations.push(loc);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic getNextLoc(loc){\n\t\tlet nextVec = Square.getNextLocVector(loc);\n\t\treturn {x: loc.x + nextVec.x, y: loc.y + nextVec.y};\n\t}\n\n\tstatic getNextLocVector(loc){\n\t\tlet {x, y} = loc;\n\n\t\tif ((x === 0 && y === 0) || (x === 2 && y === 2))\n\t\t\treturn Consts.RIGHT;\n\t\tif ((x === 10 && y === 0) || (x === 8 && y === 2))\n\t\t\treturn Consts.DOWN;\n\t\tif ((x === 10 && y === 9) || (x === 8 && y === 7))\n\t\t\treturn Consts.LEFT;\n\t\tif ((x === 2 && y === 9) || (x === 4 && y === 7))\n\t\t\treturn Consts.UP;\n\n\t\tif (x === 0) return Consts.UP;\n\t\tif (y === 0) return Consts.RIGHT;\n\t\tif (x === 10) return Consts.DOWN;\n\t\tif (y === 9) return Consts.LEFT;\n\t\tif (x === 2) return Consts.UP;\n\t\tif (y === 2) return Consts.RIGHT;\n\t\tif (x === 8) return Consts.DOWN;\n\t\tif (y === 7) return Consts.LEFT;\n\t\tif (x === 4) return Consts.UP;\n\t}\n\n\tcalcColor(index){\n\t\tif (Consts.locEq(this.loc, Consts.START))\n\t\t\treturn Consts.START_COLOR;\n\t\tif (Consts.locEq(this.loc, Consts.END))\n\t\t\treturn Consts.END_COLOR;\n\n\t\tindex--;\n\t\tif (index < 20)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/5)]];\n\t\tindex -= 20;\n\t\tif (index < 16)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/4)]];\n\t\tindex -= 16;\n\t\tif (index < 12)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/3)]];\n\t\tindex -= 12;\n\t\tif (index < 8)\n\t\t\treturn Consts.COLORS[Consts.ORDER[Math.floor(index/2)]];\n\t\treturn Consts.COLORS[Consts.ORDER[index-8]];\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Grid item key={\"y.\" + this.loc.y + \".x.\" + this.loc.x} style={{width: Consts.BOX_S, height: '100%'}}>\n\t\t\t\t<Box border={(this.color === Consts.CLEAR) ? 0 : 1} style={{width: '100%', height: '100%'}} bgcolor={this.color}>\n\t\t\t\t\t<Grid container style={{width: '100%', height: '100%'}}>\n\t\t\t\t\t\t{[...Array(2).keys()].map(r => (\n\t\t\t\t\t\t\t<Grid container direction='row' style={{width: '100%', height: '50%'}}>\n\t\t\t\t\t\t\t\t{[...Array(2).keys()].map(c => (\n\t\t\t\t\t\t\t\t\t<Grid item style={{width: '50%', height: '100%'}}>\n\t\t\t\t\t\t\t\t\t\t<Box p={0.5}>\n\t\t\t\t\t\t\t\t\t\t\t{this.playersHere[2*r+c] ? <img src={Consts.PLAYER_ICONS[2*r+c]}/> : null}\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Square;\n"]},"metadata":{},"sourceType":"module"}